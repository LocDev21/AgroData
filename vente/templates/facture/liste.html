
{% extends 'base.html' %}
{% block title %}Liste des Factures{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
	<h1 class="text-center mb-4 fw-bold text-success">Liste des Factures</h1>

	<div class="text-center mb-3">
		<a href="{% url 'ajouter_facture' %}" class="btn btn-primary btn-lg shadow-sm">
			<i class="lni lni-plus"></i> Ajouter une facture
		</a>
	</div>

	<div class="table-responsive shadow-sm rounded">
		<table class="table table-striped table-hover align-middle">
			<thead class="table-success text-white" style="background-color: #2E7D32;">
				<tr>
					<th>Numéro</th>
					<th>Vente</th>
					<th>Date émission</th>
					<th>Montant</th>
					<th>Mode paiement</th>
					<th>Statut</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for f in factures %}
				<tr>
					<td>{{ f.numero_facture }}</td>
					<td>{{ f.vente.client.nom }} {{ f.vente.client.prenom }} — {{ f.vente.stock.produit }}</td>
					<td>{{ f.date_emission }}</td>
					<td>{{ f.montant }}</td>
					<td>{{ f.mode_paiement }}</td>
					<td>{{ f.statut }}</td>
					<td>
						<a href="{% url 'details_facture' f.id %}" class="btn btn-info btn-sm me-1">Voir</a>
						<a href="{% url 'modifier_facture' f.id %}" class="btn btn-warning btn-sm me-1">Modifier</a>
						<a href="{% url 'supprimer_facture' f.id %}" class="btn btn-danger btn-sm" onclick="return confirm('Voulez-vous vraiment supprimer cette facture ?');">Supprimer</a>
					</td>
				</tr>
				{% empty %}
				<tr><td colspan="7" class="text-center text-muted">Aucune facture trouvée</td></tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
